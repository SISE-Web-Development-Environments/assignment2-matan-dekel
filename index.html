<!DOCTYPE html>
<html>

<head>
	<script src="./js/jquery-3.4.1.slim.min.js"></script>
	<script src="jquery-1.10.2.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script type="text/javascript" src="./js/app.js"></script>
	<script type=text/javascript>
			function scrollto(div) {
				document.getElementById("register").style.display=("none");
				document.getElementById("login").style.display=("none");
				document.getElementById("welcome").style.display=("none");
				document.getElementById("main-page").style.display=("none");
				let toShow = document.getElementById(div);
				toShow.style.display=("block");

			}
			function tryLogin(){
				let form = document.getElementById("login_form")
				let username = form.elements["name"].value
				let password = form.elements["password"].value
				if (typeof(Storage) !== "undefined") {
					localStorage.setItem("p", "p");
					if (localStorage.getItem(username) === null) {
						alert("this username doesn't exist")
						scrollto("welcome")
					}
					else{
						if (localStorage.getItem(username) !== password) {
						alert("wrong password")
						scrollto("welcome")
						}
						else{
					scrollto("main-page")
						}
					}
				}
			}
			function register() {
				let form = document.getElementById("register_form")
				let username = form.elements["account_name"].value
				let password = form.elements["password"].value
				let full_name = form.elements["full_name"].value
				let email = form.elements["email"].value
				let date = form.elements["date"].value
				if(username==""||password==""||full_name==""||email==""||!date){
					alert("one of the cells or more are empty")
				}
				else{
					if(password.length<6){
						alert("password too short")
					}
					else{
					var isAlphaNumeric=true
				for (i = 0, len = password.length; i < len; i++) {
    				code = password.charCodeAt(i);
    				if (!(code > 47 && code < 58) && // numeric (0-9)
        				!(code > 64 && code < 91) && // upper alpha (A-Z)
        				!(code > 96 && code < 123)) { // lower alpha (a-z)
							isAlphaNumeric= false;
    									}
  				}
  					if(!isAlphaNumeric){
						alert("not alpha numeric")
					  }
					
					  var notNum=true
					  for (i = 0, len = full_name.length; i < len; i++) {
					code = full_name.charCodeAt(i);
					if (code > 47 && code < 58){
						notNum=false;
					}
				}
				if(!notNum){
						alert("there is numbers in name")
					  }
					  else{
						localStorage.setItem(username, password);
					  }		
			}
		}
					scrollto("welcome")
	}
		</script>
	<link rel="stylesheet" type="text/css" href="./css/style.css" />
</head>
<body>
	<header id = "header" class="header">
		
		<img src="img/logo.png" alt="logo"  height="90px" width="90px" style="float: right;">
		<div style="float:none">
			<span id="app_name">Name TBD</span><br>
			<span id="details">Matan Anavi - 204502215 & Dekel levy - 204318851</span>
		</div>
	</header>

	<section id="main_block" class="main_block">
		<nav>
			<ul>
				<li><a	href="#" onclick="scrollto('welcome');"> Welcome</a></li>
				<li><a href="#" onclick="scrollto('register');">Register</a></li>
				<li> <a href="#" onclick="scrollto('login');">Login</a></li>
				<li><a>About</a></li>
			</ul>
		</nav>
		<div id="welcome">
			<button onclick="scrollto('login')" id="login-btn" class="btn">Login</button>
			<button onclick="scrollto('register')" id="register-btn" class="btn">Register</button>
		</div>
		<div id="login" style="display: none;">
			Login page:
			<form id="login_form">
				<label for="aname">Account name:</label><br>
				<input type="text" id="aname" name="name"><br>
				<label for="password">Password:</label><br>
				<input type="password" id="apassword" name="password"><br>
			</form>
			<button onclick="tryLogin()" class="btn">login</button>
		</div>
		<div id="register" style="display: none;">
			Register Page:
			<form id="register_form">
				<label for="aname">Account name:</label><br>
				<input type="text" id="raname" name="account_name"><br>
				<label for="password">Password:</label><br>
				<input type="password" id="rapassword" name="password" value=""><br>
				<label for="rfname">Full name:</label><br>
				<input type="text" id="rfname" name="full_name"><br>
				<label for="rmail">Email:</label><br>
				<input type="email" id="rmail" name="email"><br>
				<label for="rdate">Birth date:</label><br>
				<input type="date" id="rdate" name="date"><br>
			</form>
			<button onclick="register()" class="btn">Submit</button>
		</div>
		<div id="main-page" style="display: none;">
			<div id="score">
				<label for="lblScore">SCORE:</label>
				<input id="lblScore" type="text" />
			</div>
			<div id="time">
				<label for="lblTime">TIME:</label>
				<input id="lblTime" type="text" />
			</div>
			<div id="game">
				<canvas id="canvas" height="600" width="600"></canvas>
			</div>
		</div>
	</section>
	<footer id = "footer" class="footer">
		<span id="app_name">Name TBD</span><br>
		<span id = site_detalis>this is a packman game made in HTML5 and JS for school project</span><br>
		<span id="communication_details">Matan Anavi - MrBahur25@gmail.com & Dekel levy - Dekelle@post.bgu.ac.il</span>
	</footer>
</body>

</html>